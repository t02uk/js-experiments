{"source":{"css":"body {\n  background-color: #000;\n  margin: 0px;\n  font-family: cursive;\n  color: #0f0;\n}\n\nol {\n  list-style-type: none;\n  overflow: auto;\n}\n\nli {\n  counter-increment: c;\n  margin-right: 4px;\n}\n\nli:before {\n  content: counter(c);\n}\n","html":"<ol id=\"primes\"></ol>\n","lisence":"MIT","js":"window.onload = function() {\n\n  Function.prototype.curry = function() {\n    if (!arguments.length) return this;\n    var __method = this, args = Array.prototype.slice.call(arguments, 0);\n    return function() {\n      return __method.apply(this, args);\n    };\n  };\n\n\n  var Farmer = {\n    primes: document.getElementById('primes'),\n    reap: function() {\n      var s = document.getElementsByTagName(\"style\")[0];\n      return function(n) {\n        var i = n + n;\n        s.innerHTML += \"\" +\n        \"li:nth-child(\" + n + \"n+\" + i + \"):before {\" +\n        \"display: none;\" +\n        \"}\";\n      };\n    }(),\n    planting: function(n) {\n      for(var i = 0; i < n; i++) {\n        Farmer.primes.appendChild(document.createElement(\"li\"));\n      }\n    },\n    hasReaped: function(n) {\n      return !Farmer.primes.childNodes.item(n).offsetWidth;\n    }\n  };\n\n  Farmer.planting(1000);\n\n  (function(i) {\n    if(i < Math.sqrt(1000)) {\n      var unreaped;\n      if(unreaped = !Farmer.hasReaped(i+1)) {\n        Farmer.reap(i);\n      }\n    }\n    window.setTimeout(arguments.callee.curry(i+1), unreaped ? 100 : 0);\n  })(2);\n};\n"},"thumbnail":{"wide":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/u/h/G/uhGc_w.jpg","465":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/u/h/G/uhGc.jpg","100":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/u/h/G/uhGc_100.jpg"},"description_html":"nth-childを動的に作って篩のテスト<br />\nJavaScript濃いのがいまいち","modified_date":"2011-02-26 17:07:29","uid":"uhGc","created_date":"2011-02-26 16:53:30","path":"uhGc","description":"nth-childを動的に作って篩のテスト\nJavaScript濃いのがいまいち","statistic":{"forked":"0","favorite":"0","pageview":"815"},"user":{"icon":"http://jsdo-static-contents.s3.amazonaws.com/images/icon/b/4/2/c/b42cc3dd3312505b680411b3ead08e2dbc4192e4_100.jpg","name":"crispy"},"url":"http://jsdo.it/crispy/uhGc","title":"CSSでエラトステネスの篩"}