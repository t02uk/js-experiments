{"source":{"css":"* {\n    margin:0px; padding: 0px; border-width: 0px;\n    background-color: #fff;\n    overflow: hidden;\n}\n\nbody {\n    width: 485px;\n    height: 485px;\n}\n\n.pair {\n    position: relative;\n    display: inline-block;\n    width: 93px;\n    height: 970px;\n    overflow: hidden;\n}\n\n.pair_1 {\n    top: 0px;\n}\n.pair_2 {\n    top: -485px;\n}\n.color {\n    position: relative;\n    display: inline-block;\n    width: 93px;\n    height: 485px;\n}\n\n#cont {\n    height: 485px;\n    overflow: hidden;\n}\n","html":"<div id=\"cont\">\n<div class=\"pair pair_1\"><div class=\"color color_1\"></div><div class=\"color color_2\"></div></div><div class=\"pair pair_2\"><div class=\"color color_2\"></div><div class=\"color color_1\"></div></div><div class=\"pair pair_1\"><div class=\"color color_1\"></div><div class=\"color color_2\"></div></div><div class=\"pair pair_2\"><div class=\"color color_2\"></div><div class=\"color color_1\"></div></div><div class=\"pair pair_1\"><div class=\"color color_1\"></div><div class=\"color color_2\"></div></div>\n</div>\n","lisence":"MIT","js":"window.onload = (function() {\n\n    jQuery.noConflict();\n    J = jQuery;\n\n    // automatically color pattern generator\n    function AutoColor() {\n        this.init();\n    };\n\n    AutoColor.prototype.init = function() {\n        this.m = $R(0, 1).rand();\n        // set pattern\n        this.current = {\n            // hue\n            h: $R(0, 1).randf(),\n            // saturation\n            s: $R(0.2, 1.0).randf(),\n            // value\n            v: $R(0.3, 1.0).randf()\n        };\n    }\n    AutoColor.prototype.next = function() {\n        if(!this.c) this.c = 0;\n        this.c++;\n        var cur;\n\n        // re-create\n        if((1.0).randf() < 0.3) {\n            this.m = 1 - this.m;\n            this.init();\n        }\n        cur = this.current;\n        // type: dominant color\n        if(this.m == 0) {\n            // re saturation\n            cur.s += $R(0.2, 0.4).randf();\n            cur.s %= 1;\n            // re value\n            cur.v += $R(0.2, 0.4).randf();\n            cur.v %= 1;\n        } else if(this.m == 1) {\n        // type: dominant tone\n            cur.h += $R(0.15, 0.3).randf();\n            cur.h %= 1;\n        } else {\n            throw \"Ops... unexpected value \" + this.m;\n        }\n        // \n        if(cur.v < 0.2) {\n            cur.v += $R(0.2, 0.4).randf();\n        }\n\n        if((1.0).randf() < 0.2) {\n            cur.s = 1.0;\n        }\n        if((1.0).randf() < 0.2) {\n            cur.v = 1.0;\n        }\n        return {\n            h: cur.h,\n            s: cur.s,\n            v: cur.v\n        };\n    };\n\n\n    // set background-color\n    function setColor(grp) {\n        $A(J(\".pair .color_\" + grp)).zip(\n            (function(ac) {\n                return $R(0, 5, true).map(function(e) {\n                    return ac.next();\n                });\n            })(new AutoColor())\n        , function(e) {\n            var dom = e[0];\n            var val = e[1];\n\n            var rrggbb = [\n                val.h,\n                val.s,\n                val.v,\n            ].hsv();\n            dom.style.backgroundColor = rrggbb;\n        });\n    }\n    \n    function setAnimation(grp) {\n        // animation\n        J(\".pair\").each(function(i) {\n            var to = J(this).css(\"top\") === \"-485px\" ? \"0px\" : \"-485px\";\n            J(this).animate({\n                top: to\n            }, 250, \"swing\");\n        });\n    }\n\n    setColor(\"1\");\n    setColor(\"2\");\n\n\n    (function(grp) {\n        setColor(grp ? \"2\" : \"1\");\n        setAnimation(grp ? \"1\" : \"2\");\n        window.setTimeout(arguments.callee.curry(!grp), 1000);\n    })(true);\n\n});\n"},"thumbnail":{"wide":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/d/1/W/d1Ws_w.jpg","465":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/d/1/W/d1Ws.jpg","100":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/d/1/W/d1Ws_100.jpg"},"description_html":"配色パターン自動生成＋アニメーション練習<br />\n<br />\nTODO: jsdo.it上げると白い線が入る","modified_date":"2011-09-08 22:45:27","uid":"d1Ws","created_date":"2011-09-08 22:23:41","path":"d1Ws","description":"配色パターン自動生成＋アニメーション練習\n\nTODO: jsdo.it上げると白い線が入る","statistic":{"forked":"2","favorite":"0","pageview":"791"},"user":{"icon":"http://jsdo-static-contents.s3.amazonaws.com/images/icon/b/4/2/c/b42cc3dd3312505b680411b3ead08e2dbc4192e4_100.jpg","name":"crispy"},"url":"http://jsdo.it/crispy/d1Ws","title":"auto-stripe"}