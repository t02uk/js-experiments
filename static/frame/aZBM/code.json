{"source":{"css":"body { background-color: #DDDDDD; font: sans-serif; }\n\n#coffee {\n}\n\n#log {\n  height:6em;\n  background:#fff;\n  border:solid 1px #999;\n  overflow: scroll;\n  font-size: small;\n}\n\n#log .info,\n#log .error {\n  border-bottom: 1px solid #ccc;\n  margin-left: 4px;\n}\n\n#log .info {\n  color: #00f;\n}\n\n#log .error {\n  color: #f00;\n}\n","html":"<!--\njsdo.itでCoffeeScriptを試す場合のデモです\nJavaScript領域に前後を/*と*/でくくってCoffeeScriptを記述してください\njQueryが使用できます（他に必要なライブラリがあれば「＋」から読みこめば実行できます）\n-->\n<script src=\"http://jashkenas.github.com/coffee-script/extras/coffee-script.js\"></script>\n<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js\"></script>\n<script>\n</script>\n<button onclick=\"(undefined, run());\" accesskey=\"1\">run(F4)</button>\n<textarea rows=\"22\" cols=\"60\" id=\"coffee\">\nArray::each = Array::forEach\n\nArray::map = (f) ->\n  result = []\n  @each((x) ->\n    result.push(f(x)))\n  result\n\nArray:filter = (f) ->\n  result = []\n  @each((x) ->\n    result.push(x if f(x)))\n  result\n\nArray::foldLeft = (i, f) ->\n  @each((x) ->\n    i = f(i, x))\n  i\n\n\nfizzbuzz = (n) ->\n  [1..n]\n  .filter (n) ->\n    n % 2 is 0\n  .map (n) ->\n    if n % 15 is 0 then \"FizzBuzz\"\n    else if n %  3 is 0 then \"Fizz\"\n    else if n %  5 is 0 then \"Buzz\"\n    else n\n  .foldLeft(\"\", (i, n) ->\n    i + \", \" + n)\n\n_log.info(fizzbuzz(100))\n</textarea>\n<span>log </span><button onclick=\"(undefined, cls());\">clear</button>\n<div id=\"log\">\n</div>\n","lisence":"MIT","js":"$(function () {\n\n  window._log = {\n    outputee: (function() {return $(\"#log\");})(),\n    info: function(msg) {\n      this.outputee.append(\n        $(\"<div>\")\n          .text(msg.toString())\n          .attr(\"class\", \"info\")\n      );\n      this.scroll();\n    },\n    error: function(msg) {\n      this.outputee.append(\n        $(\"<div>\")\n          .text(msg.toString())\n          .attr(\"class\", \"error\")\n      );\n      this.scroll();\n    },\n    scroll: function() {\n      this.outputee.attr(\"scrollTop\", this.outputee.attr(\"scrollHeight\"));\n    },\n    clear: function() {\n      this.outputee.html(\"\");\n    }\n  };\n  \n  window.run= function() {\n    try {\n      _log.clear();\n      _log.info(\"start on \" + new Date());\n      var js = CoffeeScript.compile($('#coffee').val());\n      eval(js);\n    } catch(e) {\n      _log.error(e.toString());\n    }\n  };\n  \n  window.cls = function() {\n    _log.clear();\n  };\n\n  window.addEventListener(\"keydown\", function(e) {\n    if(115 == e.keyCode) {\n      window.run();\n      e.preventDefault ? e.preventDefault() : e.returnValue = false;\n    }\n  }, false);  \n  \n});\n"},"thumbnail":{"wide":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/a/Z/B/aZBM_w.jpg","465":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/a/Z/B/aZBM.jpg","100":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/a/Z/B/aZBM_100.jpg"},"description_html":"","parent":{"thumbnail":{"wide":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/g/A/o/gAoN_w.jpg","465":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/g/A/o/gAoN.jpg","100":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/g/A/o/gAoN_100.jpg"},"modified_date":"2011-03-10 16:26:19","uid":"gAoN","created_date":"2011-03-10 15:36:25","path":"gAoN","description":"JSのコード部分に前後を/*と*/でくくったCoffeeScriptを記述するとresultに実行結果、codeにコンパイル後のJSを出力します。\n（//forked fromとかはあっても大丈夫です）","statistic":{"forked":"74","favorite":"8","pageview":"124260"},"user":{"icon":"http://jsdo-static-contents.s3.amazonaws.com/images/icon/4/f/4/0/4f404b86e6ba1fbb2ea71bed4f9241a1b840bd88_100.jpg","name":"kyo_ago"},"url":"http://jsdo.it/kyo_ago/gAoN","title":"CoffeeScript出来るかな"},"modified_date":"2011-04-17 18:26:17","uid":"aZBM","created_date":"2011-04-17 14:29:58","path":"aZBM","description":"","statistic":{"forked":"1","favorite":"0","pageview":"1323"},"url":"http://jsdo.it/crispy/aZBM","user":{"icon":"http://jsdo-static-contents.s3.amazonaws.com/images/icon/b/4/2/c/b42cc3dd3312505b680411b3ead08e2dbc4192e4_100.jpg","name":"crispy"},"title":"forked from: CoffeeScript出来るかな"}