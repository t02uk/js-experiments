{"source":{"css":"html, body{\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n}\n\ncanvas{\n    position: relative;\n}\n","html":"<canvas id=\"world\"></canvas>","lisence":"MIT","js":"// forked from norahiko's \"うおっ まぶしっ\" http://jsdo.it/norahiko/29c3\n$(function(){\n\nvar GRID_WIDTH = 40\nvar BACKGROUND_STYLE = \"#333\"\n\nvar floor = Math.floor\nvar min = Math.min\nvar pow = Math.pow\nvar sqrt = Math.sqrt\n\nvar PI_2 = Math.PI * 2\n\nvar maxRadius\nvar width\nvar height\nvar tick = 0\nvar position = {\n    x: 0,\n    y: 0\n}\n\nvar canvas = $(\"#world\")[0]\nvar context = canvas.getContext(\"2d\")\n\n\n$(window).resize(function(){\n    width = canvas.width = $(window).width()\n    height = canvas.height = $(window).height()\n}).resize()\n\n$(window).mousemove(function(event){\n    position.x = event.clientX\n    position.y = event.clientY\n    tick++\n    draw()\n})\ndraw();\n\nfunction distance(x1, y1, x2, y2){\n    return sqrt( pow(x2-x1, 2) + pow(y2-y1, 2))\n}\n\nfunction draw(){\n    // draw background\n    context.globalCompositeOperation = \"source-over\"\n    context.fillStyle = \"hsla(\" + [(tick * 9) % 360, \"10%\", \"10%\", 0.4].join(\",\") + \")\"\n    context.globalAlpha = 0.4\n    context.fillRect(0, 0, width, height)\n    \n    // draw circles\n    context.globalCompositeOperation = \"lighter\"\n    for(var row = 0; row < height; row += GRID_WIDTH){\n        for(var col = 0; col < width; col += GRID_WIDTH){\n            context.beginPath()\n          \n            var radius = distance(position.x, position.y, col, row) / 7\n            var gradient = context.createRadialGradient(col, row, radius / 5 + 1, col, row, radius)\n            hue = (tick * 4 + 0 | radius * 8)  % 360\n            gradient.addColorStop(0, \"hsla(\" + [hue, \"80%\", \"60%\", 1].join(\",\") + \")\" )\n            gradient.addColorStop(0.2, \"hsla(\" + [hue, \"70%\", \"40%\", 1].join(\",\") + \")\" )\n            gradient.addColorStop(1, \"hsla(\" + [hue, \"50%\", \"30%\", 0].join(\",\") + \")\")\n          \n            context.fillStyle = gradient\n//            context.globalAlpha = 0.3\n            context.arc(col, row, radius, 0, PI_2, true)\n            context.fill()\n        }\n    }\n}\n\n})\n"},"thumbnail":{"wide":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/l/g/G/lgGY_w.jpg","465":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/l/g/G/lgGY.jpg","100":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/l/g/G/lgGY_100.jpg"},"description_html":"","parent":{"thumbnail":{"wide":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/2/9/c/29c3_w.jpg","465":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/2/9/c/29c3.jpg","100":"http://jsdo-static-contents.s3.amazonaws.com/images/capture/2/9/c/29c3_100.jpg"},"modified_date":"2011-06-06 00:55:27","uid":"29c3","created_date":"2011-06-05 18:25:18","path":"29c3","description":"","statistic":{"forked":"19","favorite":"35","pageview":"17526"},"user":{"icon":"http://jsdo-static-contents.s3.amazonaws.com/images/icon/2/e/b/3/2eb34313a13d98e3df7a9a2dc94068d889e3a7e6_100.jpg","name":"norahiko"},"url":"http://jsdo.it/norahiko/29c3","title":"うおっ まぶしっ"},"modified_date":"2011-06-05 23:45:48","uid":"lgGY","created_date":"2011-06-05 22:40:50","path":"lgGY","description":null,"statistic":{"forked":"10","favorite":"13","pageview":"6908"},"url":"http://jsdo.it/crispy/lgGY","user":{"icon":"http://jsdo-static-contents.s3.amazonaws.com/images/icon/b/4/2/c/b42cc3dd3312505b680411b3ead08e2dbc4192e4_100.jpg","name":"crispy"},"title":"forked: うおっ まぶしっ"}